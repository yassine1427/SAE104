{% extends 'base.html.twig' %}

{% block title %}Eportfolio - Compétences{% endblock %}

{% block stylesheets %}
    {{ parent() }} {# Conserve les styles existants #}
    <style>
        .beige-box {
            background-color: #f5f5dc; /* Couleur beige */
            padding: 20px;
            border-radius: 10px; /* Bordures arrondies */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre légère */
            margin: 20px auto; /* Centrage horizontal */
            max-width: 800px; /* Largeur maximale du cadre */
            text-align: justify; /* Justification du texte */
        }
        .beige-box p {
            margin-bottom: 20px; /* Espacement entre les paragraphes */
        }
        .form-group {
            margin-bottom: 15px;
        }
        .error-message {
            color: red;
            font-size: 0.9em;
        }
        .spreadsheet-btn {
            display: block;
            width: fit-content;
            margin: 20px auto;
            background: linear-gradient(45deg, #4285f4, #34a853);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            text-decoration: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
            text-align: center;
        }
        .spreadsheet-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
            color: white;
        }
        .spreadsheet-btn i {
            margin-right: 10px;
            font-size: 1.2em;
        }
    </style>
{% endblock %}

{% block body %}
<div class="container mt-5">
    <a href="https://docs.google.com/spreadsheets/d/1Gmy9IGic6E4hKChvnYv4qinJaP3j2sP6T8_4bC7CeMo/edit?usp=sharing" target="_blank" class="spreadsheet-btn">
        <i class="fas fa-table"></i>
        Tableau de Compétences
    </a>

    <h1 class="text-center mb-5">Mes Compétences R&T</h1>
    
    <div class="row justify-content-center">
        <div class="col-md-4 mb-4">
            <div class="card">
                <div class="card-body text-center">
                    <h5 class="card-title">RT1</h5>
                    <p class="card-text">Administrer les réseaux et l'Internet</p>
                    <a href="{{ path('app_rt1') }}" class="btn btn-primary">Voir les apprentissages critiques</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card">
                <div class="card-body text-center">
                    <h5 class="card-title">RT2</h5>
                    <p class="card-text">Connecter les entreprises et les usagers</p>
                    <a href="{{ path('app_rt2') }}" class="btn btn-primary">Voir les apprentissages critiques</a>
                </div>
            </div>
        </div>
        
        <div class="col-md-4 mb-4">
            <div class="card">
                <div class="card-body text-center">
                    <h5 class="card-title">RT3</h5>
                    <p class="card-text">Créer des outils et des applications informatiques pour les R&T</p>
                    <a href="{{ path('app_rt3') }}" class="btn btn-primary">Voir les apprentissages critiques</a>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Script pour la validation du formulaire -->
<script>
    document.getElementById('contactForm').addEventListener('submit', function(event) {
        let isValid = true;

        // Validation du prénom
        const firstName = document.getElementById('firstName').value;
        const firstNameError = document.getElementById('firstNameError');
        if (!firstName.match(/^[A-Za-zÀ-ÿ\s'-]+$/)) {
            firstNameError.textContent = 'First name contains invalid characters.';
            isValid = false;
        } else {
            firstNameError.textContent = '';
        }

        // Validation du nom
        const lastName = document.getElementById('lastName').value;
        const lastNameError = document.getElementById('lastNameError');
        if (!lastName.match(/^[A-Za-zÀ-ÿ\s'-]+$/)) {
            lastNameError.textContent = 'Last name contains invalid characters.';
            isValid = false;
        } else {
            lastNameError.textContent = '';
        }

        // Validation de l'email
        const email = document.getElementById('email').value;
        const emailError = document.getElementById('emailError');
        if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
            emailError.textContent = 'Please enter a valid email address.';
            isValid = false;
        } else {
            emailError.textContent = '';
        }

        if (!isValid) {
            event.preventDefault(); // Empêche l'envoi du formulaire si invalide
        }
    });
</script>
{% endblock %}