{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block stylesheets %}
    {{ parent() }} {# Conserve les styles existants #}
    <style>
        .beige-box {
            background-color: #f5f5dc; /* Couleur beige */
            padding: 20px;
            border-radius: 10px; /* Bordures arrondies */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Ombre légère */
            margin: 20px auto; /* Centrage horizontal */
            max-width: 800px; /* Largeur maximale du cadre */
            text-align: justify; /* Justification du texte */
        }
        .beige-box p {
            margin-bottom: 20px; /* Espacement entre les paragraphes */
        }
        .form-group {
            margin-bottom: 15px;
        }
        .error-message {
            color: red;
            font-size: 0.9em;
        }
    </style>
{% endblock %}

{% block body %}
<div class="container mt-5">
    <div class="row">
        <div class="col text-center">
            <h1>Présentation of me</h1>
            
            <!-- Cadre beige pour le texte -->
            <div class="beige-box">

                
                <div class="contact-info" style="color: black;">
                    <h2>About me</h2>
                    <p><strong>Surname :</strong> Zakri </p>
                    <p><strong>Name :</strong> Yassine </p>
                    <p><strong>Email:</strong> zakryassin06@gmail.com</p>
                    <p><strong>Group:</strong> B2</p>
                </div>
                
                <!-- Boutons pour CV et ePortfolio -->
                <p><strong>You can find my CV and ePortfolio below.</strong></p>
                <a href="/cv" class="btn btn-primary m-2">My CV</a>
                <a href="/portfolio" class="btn btn-secondary m-2">My ePortfolio</a>
                <p><strong>If you are interested in my profile, please feel free to fill out the form below.</strong></p>

                <!-- Formulaire -->
                <form id="contactForm" action="/submit-form" method="POST">
                    <div class="form-group">
                        <label for="firstName">First Name:</label>
                        <input type="text" id="firstName" name="firstName" class="form-control" required>
                        <div id="firstNameError" class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="lastName">Last Name:</label>
                        <input type="text" id="lastName" name="lastName" class="form-control" required>
                        <div id="lastNameError" class="error-message"></div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email" class="form-control" required>
                        <div id="emailError" class="error-message"></div>
                    </div>
                    <button type="submit" class="btn btn-success">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Script pour la validation du formulaire -->
<script>
    document.getElementById('contactForm').addEventListener('submit', function(event) {
        let isValid = true;

        // Validation du prénom
        const firstName = document.getElementById('firstName').value;
        const firstNameError = document.getElementById('firstNameError');
        if (!firstName.match(/^[A-Za-zÀ-ÿ\s'-]+$/)) {
            firstNameError.textContent = 'First name contains invalid characters.';
            isValid = false;
        } else {
            firstNameError.textContent = '';
        }

        // Validation du nom
        const lastName = document.getElementById('lastName').value;
        const lastNameError = document.getElementById('lastNameError');
        if (!lastName.match(/^[A-Za-zÀ-ÿ\s'-]+$/)) {
            lastNameError.textContent = 'Last name contains invalid characters.';
            isValid = false;
        } else {
            lastNameError.textContent = '';
        }

        // Validation de l'email
        const email = document.getElementById('email').value;
        const emailError = document.getElementById('emailError');
        if (!email.match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/)) {
            emailError.textContent = 'Please enter a valid email address.';
            isValid = false;
        } else {
            emailError.textContent = '';
        }

        if (!isValid) {
            event.preventDefault(); // Empêche l'envoi du formulaire si invalide
        }
    });
</script>
{% endblock %}
